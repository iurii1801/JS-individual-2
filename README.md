# Индивидуальная (лабораторная) работа №2

## Как запустить проект
Важно! Чтобы запустить проект вам необходимо использовать редактор кода Visual Studio Code (VS Code) с установленным расширением Live Server. Это расширение позволяет запускать HTML-файлы в режиме реального времени в вашем браузере.
Запустив проект, вы сможете увидеть случайную активность, которая обновляется каждую минуту. Если при получении активности произойдёт ошибка, вы увидите соответствующее сообщение.

## Предисловие

Капитан Смит часто ощущает скуку, так как его дни полностью заполнены поездками с одного места на другое. Мы можем помочь ему найти занятие по душе.
Для этого нам нужно разработать мини-приложение, которое будет предлагать капитану Смиту новое занятие при каждом обновлении.

## Структура проекта
1. `index.html` - основной HTML-файл, который содержит структуру веб-страницы. На странице есть заголовок и элемент `<i>`, в котором отображается активность. JavaScript-файл `index.js` подключается как модуль.
2. `index.css` - CSS-файл, который используется для стилизации веб-страницы.
3. `index.js` - JavaScript-файл, который импортирует и вызывает функцию `startUpdatingActivity()` из файла `activity.js`. Это запускает процесс обновления активности на веб-странице.
4. `activity.js` - JavaScript-файл, который содержит функции для получения случайной активности из API и обновления ее на веб-странице.
**функции:**
* `getRandomActivity()` - асинхронная функция, которая делает запрос к API и возвращает случайную активность. В случае ошибки возвращает сообщение об ошибке.
* `updateActivity()` - функция, которая вызывает `getRandomActivity()` и обновляет текст активности на веб-странице.
* `startUpdatingActivity()` - функция, которая вызывает `updateActivity()` и затем устанавливает таймер для повторного вызова `startUpdatingActivity()` через одну минуту. Это создает цикл обновления активности каждую минуту.

## Описание идивидуальной работы

Данная работа делает фокус на создании функции `getRandomActivity()`, которая отправляет `HTTP-запрос` через `fetch()` и извлекает информацию о случайной активности из `API`. Данные, полученные из API, используются для отображения текста активности на веб-странице. Для улучшения устойчивости функции к ошибкам, была включена обработка исключений. В случае возникновения ошибки при запросе, на странице появляется сообщение: "Ошибка".
Кроме того, я адаптировал `getRandomActivity()` к использованию современных асинхронных паттернов, внедрив конструкции async и await для управления асинхронными операциями. Также был реализован механизм периодического обновления данных. Используя `setTimeout()`, функция `updateActivity()` теперь регулярно обновляет информацию на странице, обеспечивая динамичное отображение актуальных данных каждую минуту.

## Ответы на контрольные вопросы

1. Какое значение возвращает функция `fetch`?

- Функция `fetch()` возвращает **объект Promise**, который разрешается в объект `Response` представляющий ответ на запрос.

2. Что представляет собой `Promise`?

**Promise** - это объект в JavaScript, который связан с некоторой асинхронной операцией и может изменить свое состояние в будущем. Состояния Promise могут быть следующими:
- **Pending**: начальное состояние, ни выполнено, ни отклонено.
- **Fulfilled**: операция завершена успешно.
- **Rejected**: операция завершена с ошибкой.

3. Какие методы доступны у объекта `Promise`?

У объекта `Promise` доступны следующие методы:
- **then()**: добавляет обработчики, которые будут вызваны при переходе промиса в состояние "выполнено успешно" или "выполнено с ошибкой".
- **catch()**: добавляет обработчик, который будет вызван, если промис перейдет в состояние "выполнено с ошибкой".
- **finally()**: добавляет обработчик, который будет вызван в любом случае, независимо от того, был ли промис выполнен успешно или с ошибкой.

4. Каковы основные различия между использованием `async/await` и `Promise`?

- **Promise**: это более старый способ работы с асинхронными операциями. Он предоставляет методы `.then()`, `.catch()` и `.finally()` для управления состояниями и результатами асинхронных операций.
- **Async/Await**: это более новый и более современный способ работы с асинхронными операциями. Он позволяет писать асинхронный код, который выглядит и ведет себя как синхронный код. Это делает код более читаемым и понятным. Однако, под капотом, async/await использует Promises.

## Список использованных источников
- https://github.com/MSU-Courses/javascript_typescript/tree/main/docs
- https://chat.openai.com/c/4a6a02be-71a1-49d0-b5f4-29cf9bd0794d
